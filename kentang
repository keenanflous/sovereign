----- =======[ Memuat WindUI ] =======
-------------------------------------------

local WindUI = loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"))()

-------------------------------------------
----- =======[ FUNGSI GLOBAL ] =======
-------------------------------------------

local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")
local Stats = game:GetService("Stats")
local UserInputService = game:GetService("UserInputService")
local GuiService = game:GetService("GuiService")
local TweenService = game:GetService("TweenService")
local ContentProvider = game:GetService("ContentProvider")
local Lighting = game:GetService("Lighting")
local Terrain = workspace.Terrain

-------------------------------------------
----- =======[ DETEKSI PLATFORM ] =======
-------------------------------------------

local PLATFORM = "Tidak Diketahui"
local IS_MOBILE = false
local IS_DESKTOP = false
local IS_CONSOLE = false
local IS_IOS = false
local IS_ANDROID = false

-- Deteksi platform utama
if UserInputService.TouchEnabled and not UserInputService.MouseEnabled then
    PLATFORM = "Mobile"
    IS_MOBILE = true
elseif UserInputService.MouseEnabled and UserInputService.KeyboardEnabled then
    PLATFORM = "Windows"
    IS_DESKTOP = true
else
    PLATFORM = "Konsol"
    IS_CONSOLE = true
end

-- Deteksi platform mobile spesifik
if IS_MOBILE then
    local success, result = pcall(function()
        return UserInputService:GetPlatform()
    end)
    
    if success then
        if result == Enum.Platform.IOS then
            PLATFORM = "iOS"
            IS_IOS = true
        else
            PLATFORM = "Android"
            IS_ANDROID = true
        end
    end
end

-------------------------------------------
----- =======[ SISTEM NOTIFIKASI ] =======
-------------------------------------------

local function NotifySuccess(judul, pesan, durasi)
    WindUI:Notify({
        Title = judul,
        Content = pesan,
        Duration = durasi or 3,
        Icon = "circle-check"
    })
end

local function NotifyError(judul, pesan, durasi)
    WindUI:Notify({
        Title = judul,
        Content = pesan,
        Duration = durasi or 4,
        Icon = "ban"
    })
end

local function NotifyInfo(judul, pesan, durasi)
    WindUI:Notify({
        Title = judul,
        Content = pesan,
        Duration = durasi or 5,
        Icon = "info"
    })
end

local function NotifyWarning(judul, pesan, durasi)
    WindUI:Notify({
        Title = judul,
        Content = pesan,
        Duration = durasi or 4,
        Icon = "triangle-alert"
    })
end

-------------------------------------------
----- =======[ FUNGSI UTAMA ] =======
-------------------------------------------

-- Sistem FPS yang lebih stabil
local function AturBatasFPS(fps)
    local success, result = pcall(function()
        if type(fps) ~= "number" then
            fps = tonumber(fps) or 60
        end
        
        if fps == 0 then
            if IS_MOBILE then
                setfpscap(120)
                return "Tidak Terbatas (Maks 120)"
            else
                setfpscap(0)
                return "Tidak Terbatas"
            end
        else
            if IS_MOBILE and fps > 120 then
                setfpscap(120)
                return "120 (Maksimal Mobile)"
            else
                setfpscap(fps)
                return tostring(fps)
            end
        end
    end)
    
    if not success then
        -- Fallback methods
        pcall(function() setfpsmax(fps) end)
        return tostring(fps) .. " (Fallback)"
    end
    
    return result
end

-- Sistem clipboard yang kompatibel
local function SalinKeClipboard(teks)
    local success = pcall(function()
        if setclipboard then
            setclipboard(teks)
            return true
        elseif writeclipboard then
            writeclipboard(teks)
            return true
        else
            return false
        end
    end)
    
    if success then
        return true
    else
        NotifyInfo("Clipboard", "Teks siap disalin: " .. teks, 8)
        return false
    end
end

-- Optimasi mobile komprehensif
local function OptimalkanUntukMobile()
    if not IS_MOBILE then return end
    
    pcall(function()
        -- Rendering settings
        settings().Rendering.QualityLevel = 1
        settings().Rendering.EnableFRM = true
        settings().Rendering.MeshCacheSize = 100
        
        -- Terrain optimization
        Terrain.Decoration = false
        Terrain.WaterReflection = false
        Terrain.WaterWaveSize = 0
        Terrain.WaterTransparency = 0.7
        
        -- Lighting optimization
        Lighting.GlobalShadows = false
        Terrain.CastShadow = false
        Lighting.FogEnd = 50000
        Lighting.Brightness = 1.8
        Lighting.EnvironmentDiffuseScale = 0.5
        Lighting.EnvironmentSpecularScale = 0.5
        
        -- Disable post-processing effects
        for _, effect in pairs(Lighting:GetChildren()) do
            if effect:IsA("PostEffect") then
                effect.Enabled = false
            end
        end
        
        -- Physics optimization
        workspace.Gravity = 196.2
        
        NotifySuccess("Optimasi Mobile", "Pengaturan mobile dioptimalkan")
    end)
end

-- Optimasi desktop
local function OptimalkanUntukDesktop()
    if not IS_DESKTOP then return end
    
    pcall(function()
        settings().Rendering.QualityLevel = 5
        Lighting.GlobalShadows = true
        Terrain.Decoration = true
        
        NotifyInfo("Optimasi Desktop", "Pengaturan desktop dioptimalkan")
    end)
end

-- Sistem monitoring performa
local function DapatkanStatistikPerforma()
    local statistik = {
        FPS = 0,
        Ping = 0,
        Memori = 0,
        GPU = 0
    }
    
    -- FPS Calculation
    pcall(function()
        local fps = RunService:GetFPS()
        statistik.FPS = math.floor(fps)
    end)
    
    -- Ping Calculation
    pcall(function()
        local ping = Stats.Network.ServerStatsItem["Data Ping"]:GetValue()
        statistik.Ping = math.floor(ping)
    end)
    
    -- Memory Usage
    pcall(function()
        local memori = Stats:GetTotalMemoryUsageMb()
        statistik.Memori = math.floor(memori)
    end)
    
    return statistik
end

-------------------------------------------
----- =======[ INISIALISASI WINDOW ] =======
-------------------------------------------

local ukuranWindow = IS_MOBILE and UDim2.fromOffset(420, 320) or UDim2.fromOffset(580, 420)

local Window = WindUI:CreateWindow({
    Title = "SOVEREIGN - Booster [" .. PLATFORM .. "]",
    Icon = "zap",
    Author = "Discord @mikpley | " .. PLATFORM,
    Folder = "SOVEREIGN",
    Size = ukuranWindow,
    Theme = "Indigo",
    KeySystem = false
})

-- Hanya set toggle key untuk desktop
if IS_DESKTOP then
    Window:SetToggleKey(Enum.KeyCode.RightShift)
end

WindUI:SetNotificationLower(true)

-- Notifikasi awal
WindUI:Notify({
    Title = "SOVEREIGN - Booster",
    Content = "Script Berhasil Dimuat! [" .. PLATFORM .. "]",
    Duration = 5,
    Image = "square-check-big"
})

-------------------------------------------
----- =======[ SISTEM TAB ] =======
-------------------------------------------

local TabOptimasi = Window:Tab({
    Title = "Optimasi",
    Icon = "zap"
})

local TabInformasi = Window:Tab({
    Title = "Informasi",
    Icon = "info"
})

local TabMobile = IS_MOBILE and Window:Tab({
    Title = "Mobile",
    Icon = "smartphone"
})

local TabPengaturan = Window:Tab({ 
    Title = "Pengaturan", 
    Icon = "user-cog" 
})

-------------------------------------------
----- =======[ TAB OPTIMASI ] =======
-------------------------------------------

local SectionFrameRate = TabOptimasi:Section({
    Title = "Kontrol Frame Rate",
    Icon = "gauge"
})

SectionFrameRate:Paragraph({
    Title = "Pengaturan Frame Rate",
    Content = IS_MOBILE and "Atur batas FPS (Mobile: Maks 120 FPS)" or "Atur batas FPS untuk performa lebih baik"
})

-- Variabel state
local FPSterpilih = IS_MOBILE and "60 FPS" or "120 FPS"
local KualitasTeksturAktif = false
local GrafikRendahAktif = false
local ModePartikelAktif = false
local ModeTerrainAktif = false

-- Opsi FPS berdasarkan platform
local opsiFPS = IS_MOBILE and {"15 FPS", "30 FPS", "45 FPS", "60 FPS", "90 FPS", "120 FPS"} 
                or {"30 FPS", "60 FPS", "75 FPS", "120 FPS", "144 FPS", "165 FPS", "240 FPS", "Tidak Terbatas"}

SectionFrameRate:Dropdown({
    Title = "Frame Rate Target",
    Content = "Pilih batas FPS yang diinginkan",
    Values = opsiFPS,
    Callback = function(yangDipilih)
        FPSterpilih = yangDipilih
        NotifyInfo("Frame Rate", "Dipilih: " .. yangDipilih, 2)
    end
})

SectionFrameRate:Button({
    Title = "Terapkan FPS",
    Content = "Terapkan pengaturan FPS saat ini",
    Callback = function()
        local konversiFPS = {
            ["15 FPS"] = 15, ["30 FPS"] = 30, ["45 FPS"] = 45, ["60 FPS"] = 60,
            ["75 FPS"] = 75, ["90 FPS"] = 90, ["120 FPS"] = 120, ["144 FPS"] = 144,
            ["165 FPS"] = 165, ["240 FPS"] = 240, ["Tidak Terbatas"] = 0
        }
        
        local fps = konversiFPS[FPSterpilih]
        if fps then
            local hasil = AturBatasFPS(fps)
            NotifySuccess("Frame Rate", "FPS diatur ke: " .. hasil)
        else
            NotifyError("Frame Rate", "Pilihan FPS tidak valid")
        end
    end
})

-- Section Optimasi Grafik
local SectionGrafik = TabOptimasi:Section({
    Title = "Optimasi Grafik",
    Icon = "monitor"
})

SectionGrafik:Paragraph({
    Title = "Pengaturan Visual",
    Content = "Optimalkan kualitas grafik untuk performa lebih baik"
})

SectionGrafik:Toggle({
    Title = "Mode Grafik Rendah",
    Content = "Minimalkan semua pengaturan grafik",
    Callback = function(nilai)
        GrafikRendahAktif = nilai
        
        pcall(function()
            if nilai then
                -- Simpan dan terapkan pengaturan rendah
                settings().Rendering.QualityLevel = 1
                Lighting.GlobalShadows = false
                Lighting.FogEnd = 25000
                Lighting.Brightness = 2.0
                Lighting.ExposureCompensation = 0.5
                
                -- Optimasi terrain
                Terrain.Decoration = false
                Terrain.WaterReflection = false
                
                -- Nonaktifkan efek
                for _, obj in pairs(Lighting:GetChildren()) do
                    if obj:IsA("PostEffect") then
                        obj.Enabled = false
                    end
                end
                
                NotifySuccess("Grafik", "Mode grafik rendah diaktifkan")
            else
                -- Kembalikan ke default
                settings().Rendering.QualityLevel = IS_MOBILE and 3 or 6
                Lighting.GlobalShadows = not IS_MOBILE
                Lighting.FogEnd = 1000000
                Lighting.Brightness = 1.0
                Lighting.ExposureCompensation = 0
                
                Terrain.Decoration = not IS_MOBILE
                Terrain.WaterReflection = not IS_MOBILE
                
                if IS_DESKTOP then
                    for _, obj in pairs(Lighting:GetChildren()) do
                        if obj:IsA("PostEffect") then
                            obj.Enabled = true
                        end
                    end
                end
                
                NotifyInfo("Grafik", "Mode grafik rendah dinonaktifkan")
            end
        end)
    end
})

SectionGrafik:Toggle({
    Title = "Optimasi Tekstur",
    Content = "Kurangi kualitas material dan tekstur",
    Callback = function(nilai)
        KualitasTeksturAktif = nilai
        
        pcall(function()
            if nilai then
                for _, obj in pairs(workspace:GetDescendants()) do
                    if obj:IsA("Part") then
                        obj.Material = Enum.Material.Plastic
                        obj.Reflectance = 0
                    elseif obj:IsA("SurfaceAppearance") then
                        obj:Destroy()
                    end
                end
                NotifySuccess("Tekstur", "Optimasi tekstur diaktifkan")
            else
                NotifyInfo("Tekstur", "Optimasi tekstur dinonaktifkan")
            end
        end)
    end
})

-- Section Partikel & Efek
local SectionPartikel = TabOptimasi:Section({
    Title = "Partikel & Efek",
    Icon = "sparkles"
})

SectionPartikel:Paragraph({
    Title = "Kontrol Efek Visual",
    Content = "Kelola partikel dan efek untuk performa lebih baik"
})

SectionPartikel:Toggle({
    Title = "Mode Partikel Rendah",
    Content = "Kurangi efek partikel dan emisi",
    Callback = function(nilai)
        ModePartikelAktif = nilai
        
        pcall(function()
            if nilai then
                for _, obj in pairs(workspace:GetDescendants()) do
                    if obj:IsA("ParticleEmitter") then
                        obj.Rate = math.floor(obj.Rate * 0.3)
                        obj.Lifetime = NumberRange.new(0.5)
                    elseif obj:IsA("Fire") or obj:IsA("Smoke") then
                        obj.Enabled = false
                    elseif obj:IsA("Beam") then
                        obj.Enabled = false
                    end
                end
                NotifySuccess("Partikel", "Mode partikel rendah diaktifkan")
            else
                for _, obj in pairs(workspace:GetDescendants()) do
                    if obj:IsA("ParticleEmitter") then
                        obj.Rate = obj.Rate * 3.33
                        obj.Lifetime = NumberRange.new(1, 2)
                    elseif obj:IsA("Fire") or obj:IsA("Smoke") or obj:IsA("Beam") then
                        obj.Enabled = true
                    end
                end
                NotifyInfo("Partikel", "Mode partikel rendah dinonaktifkan")
            end
        end)
    end
})

-- Section Optimasi Lanjutan
local SectionLanjutan = TabOptimasi:Section({
    Title = "Optimasi Lanjutan",
    Icon = "settings"
})

SectionLanjutan:Paragraph({
    Title = "Fitur Lanjutan",
    Content = "Pengaturan optimasi tambahan untuk performa maksimal"
})

SectionLanjutan:Toggle({
    Title = "Optimasi Terrain",
    Content = "Kurangi detail terrain dan air",
    Callback = function(nilai)
        ModeTerrainAktif = nilai
        
        pcall(function()
            if nilai then
                Terrain.Decoration = false
                Terrain.WaterReflection = false
                Terrain.WaterTransparency = 0.8
                Terrain.WaterWaveSize = 0
                Terrain.WaterWaveSpeed = 0
                NotifySuccess("Terrain", "Optimasi terrain diaktifkan")
            else
                Terrain.Decoration = not IS_MOBILE
                Terrain.WaterReflection = not IS_MOBILE
                Terrain.WaterTransparency = 0.3
                Terrain.WaterWaveSize = 0.5
                Terrain.WaterWaveSpeed = 10
                NotifyInfo("Terrain", "Optimasi terrain dinonaktifkan")
            end
        end)
    end
})

SectionLanjutan:Button({
    Title = "Optimasi Cepat",
    Content = "Terapkan semua pengaturan optimasi terbaik",
    Callback = function()
        pcall(function()
            -- Terapkan FPS optimal
            local fpsOptimal = IS_MOBILE and 60 or 120
            AturBatasFPS(fpsOptimal)
            
            -- Pengaturan grafik
            settings().Rendering.QualityLevel = 2
            Lighting.GlobalShadows = false
            Lighting.FogEnd = IS_MOBILE and 30000 or 50000
            
            -- Optimasi terrain
            Terrain.Decoration = false
            Terrain.WaterReflection = false
            
            -- Optimasi partikel
            for _, obj in pairs(workspace:GetDescendants()) do
                if obj:IsA("ParticleEmitter") then
                    obj.Rate = math.min(obj.Rate, IS_MOBILE and 5 or 10)
                elseif obj:IsA("Part") then
                    obj.Material = Enum.Material.Plastic
                end
            end
            
            NotifySuccess("Optimasi Cepat", "Semua pengaturan optimal diterapkan!")
        end)
    end
})

SectionLanjutan:Button({
    Title = "Reset Semua",
    Content = "Kembalikan semua pengaturan ke default",
    Callback = function()
        pcall(function()
            -- Reset FPS
            AturBatasFPS(IS_MOBILE and 60 or 0)
            
            -- Reset grafik
            settings().Rendering.QualityLevel = IS_MOBILE and 3 or 8
            Lighting.GlobalShadows = not IS_MOBILE
            Lighting.FogEnd = 1000000
            
            -- Reset terrain
            Terrain.Decoration = not IS_MOBILE
            Terrain.WaterReflection = not IS_MOBILE
            
            -- Reset partikel
            for _, obj in pairs(workspace:GetDescendants()) do
                if obj:IsA("ParticleEmitter") then
                    obj.Rate = obj.Rate
                elseif obj:IsA("Fire") or obj:IsA("Smoke") then
                    obj.Enabled = true
                end
            end
            
            NotifySuccess("Reset", "Semua pengaturan dikembalikan ke default")
        end)
    end
})

-------------------------------------------
----- =======[ TAB MOBILE ] =======
-------------------------------------------

if IS_MOBILE then
    local SectionOptimasiMobile = TabMobile:Section({
        Title = "Optimasi Mobile",
        Icon = "smartphone"
    })
    
    SectionOptimasiMobile:Paragraph({
        Title = "Pengaturan Khusus Mobile",
        Content = "Optimasi spesifik untuk perangkat mobile"
    })
    
    SectionOptimasiMobile:Toggle({
        Title = "Mode Penghemat Baterai",
        Content = "Optimalkan untuk daya tahan baterai",
        Callback = function(nilai)
            if nilai then
                AturBatasFPS(30)
                settings().Rendering.QualityLevel = 1
                RunService:SetThrottleFramerateEnabled(true)
                NotifySuccess("Baterai", "Mode penghemat baterai diaktifkan")
            else
                AturBatasFPS(60)
                settings().Rendering.QualityLevel = 3
                RunService:SetThrottleFramerateEnabled(false)
                NotifyInfo("Baterai", "Mode penghemat baterai dinonaktifkan")
            end
        end
    })
    
    SectionOptimasiMobile:Toggle({
        Title = "Optimasi Sentuh",
        Content = "Tingkatkan responsivitas sentuh",
        Callback = function(nilai)
            if nilai then
                UserInputService.TouchEnabled = true
                UserInputService.MouseEnabled = false
                RunService:SetThrottleFramerateEnabled(false)
                NotifySuccess("Sentuh", "Optimasi sentuh diaktifkan")
            else
                RunService:SetThrottleFramerateEnabled(true)
                NotifyInfo("Sentuh", "Optimasi sentuh dinonaktifkan")
            end
        end
    })
    
    local SectionAntarmukaMobile = TabMobile:Section({
        Title = "Antarmuka Mobile",
        Icon = "layout"
    })
    
    SectionAntarmukaMobile:Toggle({
        Title = "UI Mobile Besar",
        Content = "Perbesar elemen UI untuk sentuh",
        Callback = function(nilai)
            if nilai then
                Window:SetSize(UDim2.fromOffset(380, 280))
                NotifyInfo("UI Mobile", "UI besar diaktifkan")
            else
                Window:SetSize(UDim2.fromOffset(420, 320))
                NotifyInfo("UI Mobile", "UI besar dinonaktifkan")
            end
        end
    })
    
    SectionAntarmukaMobile:Button({
        Title = "Optimasi Mobile Lengkap",
        Content = "Terapkan semua optimasi mobile",
        Callback = function()
            OptimalkanUntukMobile()
            AturBatasFPS(60)
            Window:SetSize(UDim2.fromOffset(420, 320))
            NotifySuccess("Mobile", "Optimasi mobile lengkap diterapkan!")
        end
    })
end

-------------------------------------------
----- =======[ TAB INFORMASI ] =======
-------------------------------------------

local SectionInfoScript = TabInformasi:Section({
    Title = "Informasi Script",
    Icon = "info"
})

SectionInfoScript:Paragraph({
    Title = "SOVEREIGN - Booster",
    Content = "Sistem optimasi canggih untuk Roblox"
})

SectionInfoScript:Label({
    Title = "Versi",
    Content = "2.0.0"
})

SectionInfoScript:Label({
    Title = "Pengembang",
    Content = "@mikpley"
})

SectionInfoScript:Label({
    Title = "Platform",
    Content = PLATFORM
})

SectionInfoScript:Label({
    Title = "Status",
    Content = "Aktif"
})

-- Section Monitoring Performa
local SectionPerforma = TabInformasi:Section({
    Title = "Monitoring Performa",
    Icon = "bar-chart"
})

local labelFPS = SectionPerforma:Label({
    Title = "FPS Saat Ini",
    Content = "Menghitung..."
})

local labelPing = SectionPerforma:Label({
    Title = "Ping",
    Content = "Menghitung..."
})

local labelMemori = SectionPerforma:Label({
    Title = "Memori",
    Content = "Menghitung..."
})

local labelGPU = SectionPerforma:Label({
    Title = "GPU Memory",
    Content = "Menghitung..."
})

-- Sistem monitoring real-time
task.spawn(function()
    local frameCount = 0
    local lastTime = tick()
    
    while task.wait(0.5) do
        local stats = DapatkanStatistikPerforma()
        
        if labelFPS then
            labelFPS:SetContent(stats.FPS .. " FPS")
        end
        if labelPing then
            labelPing:SetContent(stats.Ping .. " ms")
        end
        if labelMemori then
            labelMemori:SetContent(stats.Memori .. " MB")
        end
        if labelGPU then
            labelGPU:SetContent(stats.GPU .. " MB")
        end
    end
end)

-- Section Dukungan
local SectionDukungan = TabInformasi:Section({
    Title = "Dukungan & Bantuan",
    Icon = "help-circle"
})

SectionDukungan:Paragraph({
    Title = "Fitur yang Tersedia",
    Content = "• Kontrol Frame Rate\n• Optimasi Grafik\n• Pengaturan Partikel\n• Monitoring Performa\n• Optimasi Platform Spesifik"
})

SectionDukungan:Button({
    Title = "Salin Discord",
    Content = "Salin link Discord support",
    Callback = function()
        if SalinKeClipboard("https://discord.gg/mikpley") then
            NotifySuccess("Discord", "Link Discord disalin!")
        else
            NotifyInfo("Discord", "https://discord.gg/mikpley")
        end
    end
})

SectionDukungan:Button({
    Title = "Laporkan Masalah",
    Content = "Buat laporan bug atau masalah",
    Callback = function()
        local info = "Platform: " .. PLATFORM .. "\nFPS: " .. labelFPS:GetContent() .. "\nPing: " .. labelPing:GetContent()
        NotifyInfo("Laporan Bug", "Siapkan detail masalah:\n" .. info)
    end
})

-------------------------------------------
----- =======[ TAB PENGATURAN ] =======
-------------------------------------------

local SectionKonfigurasi = TabPengaturan:Section({
    Title = "Konfigurasi",
    Icon = "save"
})

SectionKonfigurasi:Paragraph({
    Title = "Manajemen Pengaturan",
    Content = "Simpan dan muat konfigurasi Anda"
})

-- Sistem konfigurasi
local ManajerKonfig = Window.ConfigManager
local konfigSaya = ManajerKonfig:CreateConfig("SOVEREIGN_v2")

SectionKonfigurasi:Button({
    Title = "Simpan Pengaturan",
    Content = "Simpan konfigurasi saat ini",
    Callback = function()
        konfigSaya:Save()
        NotifySuccess("Konfigurasi", "Pengaturan disimpan!")
    end
})

SectionKonfigurasi:Button({
    Title = "Muat Pengaturan",
    Content = "Muat konfigurasi tersimpan",
    Callback = function()
        konfigSaya:Load()
        NotifySuccess("Konfigurasi", "Pengaturan dimuat!")
    end
})

SectionKonfigurasi:Button({
    Title = "Reset ke Default",
    Content = "Reset semua pengaturan",
    Callback = function()
        konfigSaya:Reset()
        NotifySuccess("Konfigurasi", "Pengaturan direset!")
    end
})

local SectionUI = TabPengaturan:Section({
    Title = "Pengaturan UI",
    Icon = "monitor"
})

SectionUI:Toggle({
    Title = "Mode Kompak",
    Content = "Perkecil ukuran antarmuka",
    Callback = function(nilai)
        if nilai then
            local ukuran = IS_MOBILE and UDim2.fromOffset(350, 250) or UDim2.fromOffset(500, 350)
            Window:SetSize(ukuran)
            NotifyInfo("UI", "Mode kompak diaktifkan")
        else
            Window:SetSize(ukuranWindow)
            NotifyInfo("UI", "Mode kompak dinonaktifkan")
        end
    end
})

SectionUI:Button({
    Title = "Refresh UI",
    Content = "Segarkan antarmuka",
    Callback = function()
        WindUI:Notify({
            Title = "UI Refresh",
            Content = "Antarmuka disegarkan",
            Duration = 2,
            Icon = "refresh-cw"
        })
    end
})

-------------------------------------------
----- =======[ INISIALISASI AKHIR ] =======
-------------------------------------------

-- Optimasi otomatis berdasarkan platform
task.spawn(function()
    task.wait(3)
    
    if IS_MOBILE then
        OptimalkanUntukMobile()
        AturBatasFPS(60)
        NotifyInfo("Optimasi Otomatis", "Pengaturan mobile optimal diterapkan")
    else
        OptimalkanUntukDesktop()
        NotifyInfo("Optimasi Otomatis", "Pengaturan desktop optimal diterapkan")
    end
end)

-- Notifikasi akhir
task.wait(2)
local pesanAkhir = IS_DESKTOP and 
    "Gunakan RightShift untuk toggle UI\nSemua fitur siap digunakan!" or
    "Ketuk untuk berinteraksi\nSemua fitur dioptimalkan untuk " .. PLATFORM

NotifySuccess("SOVEREIGN - Booster", pesanAkhir)

-- Pastikan semua fungsi tersedia
return {
    Window = Window,
    Platform = PLATFORM,
    IsMobile = IS_MOBILE,
    IsDesktop = IS_DESKTOP
}